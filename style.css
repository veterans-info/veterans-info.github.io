/* style.css */

/* Typography System */
:root {
    /* Font Stack */
    --font-system: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    
    /* Modular Type Scale (1.25 ratio) */
    --font-size-xs: 0.8rem;
    --font-size-sm: 0.9rem;
    --font-size-base: 1rem;
    --font-size-md: 1.25rem;
    --font-size-lg: 1.563rem;
    --font-size-xl: 1.953rem;
    --font-size-2xl: 2.441rem;
    --font-size-3xl: 3.052rem;
    
    /* Color Palette */
    --color-primary: #333333; /* A common dark gray for text */
    --color-secondary: #0056b3; /* Updated: Was #1a73e8, now a more refined blue */
    --color-secondary-darker: #004494; /* New: For hovers/focus on secondary elements */
    --color-accent: #ea4335; /* Bright red for errors, etc. */
    --color-neutral-100: #f8f9fa;
    --color-neutral-200: #e8eaed;
    --color-neutral-300: #dadce0;
    --color-neutral-700: #5f6368;
    --color-gradient-start: #6b7a8f; /* New: For hero gradient start */
    --color-gradient-end: #4a5568;   /* New: For hero gradient end */
    --color-footer-bg: #333;         /* New: For footer background */
    --color-footer-text: #fff;       /* New: For footer text */
    --color-footer-link: #ccc;       /* New: For footer link */
    --color-footer-border: #555;     /* New: For footer border */
    --color-footer-separator: #777;  /* New: For footer separator */
    --color-success-bg: #e8f5e9;     /* New: For tool result success background */
    --color-success-text: #155724;   /* New: For tool result success text */
    --color-error-bg: #f8d7da;       /* New: For tool result error background */
    --color-error-text: #721c24;     /* New: For tool result error text */
    --color-warning-bg: #fff3cd;     /* New: For tool result warning background */
    --color-warning-text: #856404;   /* New: For tool result warning text */

    /* Spacing System (8px base) */
    --space-1: 0.5rem;
    --space-2: 1rem;
    --space-3: 1.5rem;
    --space-4: 2rem;
    --space-5: 2.5rem;
    --space-6: 3rem;
    --space-8: 4rem;
    
    /* Shadows */
    --shadow-subtle: 0 1px 2px 0 rgba(60, 64, 67, 0.3);
    --shadow-medium: 0 2px 4px 0 rgba(60, 64, 67, 0.3);
    --shadow-large: 0 4px 8px 0 rgba(60, 64, 67, 0.3);
    
    /* Transitions */
    --transition-smooth: all 0.2s ease;
}

/* Reset and Base Styles */
* {
    box-sizing: border-box;
}

body {
    font-family: var(--font-system);
    font-size: var(--font-size-base);
    line-height: 1.7;
    margin: 0;
    padding: 0;
    background-color: var(--color-neutral-100);
    color: var(--color-primary);
}

/* Typography */
h1, h2, h3, h4, h5, h6 {
    color: var(--color-primary);
    line-height: 1.3;
    font-weight: 600;
    margin-top: 0;
    letter-spacing: -0.02em;
}

h1 {
    font-size: var(--font-size-2xl);
    margin-bottom: var(--space-3);
    letter-spacing: -0.03em;
}

h2 {
    font-size: var(--font-size-xl);
    margin-top: var(--space-5);
    margin-bottom: var(--space-3);
}

h3 {
    font-size: var(--font-size-lg);
    margin-top: var(--space-4);
    margin-bottom: var(--space-2);
}

h4 {
    font-size: var(--font-size-md);
    margin-bottom: var(--space-2);
}

p {
    line-height: 1.8;
    margin-bottom: var(--space-2);
}

/* Skip Link */
.skip-link {
    position: absolute;
    top: -40px; /* Increased to ensure it's off-screen */
    left: 0;
    background: var(--color-primary);
    color: white;
    padding: var(--space-1) var(--space-2);
    z-index: 1000; /* Ensure it's above sticky header */
    transition: var(--transition-smooth);
    text-decoration: none;
    border-radius: 0 0 4px 0;
}

.skip-link:focus {
    top: 0;
}

/* Main Content Area */
main {
    display: block;
    max-width: 1200px;
    margin: var(--space-4) auto;
    padding: var(--space-3);
}

/* Card Component Base */
.card {
    background-color: white;
    border-radius: 8px;
    box-shadow: var(--shadow-subtle);
    transition: var(--transition-smooth);
}

.card:hover {
    box-shadow: var(--shadow-medium);
    transform: translateY(-2px);
}

article,
section {
    background-color: white;
    padding: var(--space-4);
    margin-bottom: var(--space-4);
    border-radius: 8px;
    box-shadow: var(--shadow-subtle);
}

/* Links */
a {
    color: var(--color-secondary);
    text-decoration: none;
    transition: var(--transition-smooth);
}

a:hover, a:focus {
    color: var(--color-secondary-darker); /* Updated: was --color-accent */
    text-decoration: underline;
}

/* Lists */
ul, ol {
    padding-left: var(--space-3);
    line-height: 1.8;
}

li {
    margin-bottom: var(--space-1);
}

/* Time elements */
time {
    font-style: italic;
    color: var(--color-neutral-700);
}

/* Hero Section */
.hero {
    display: grid;
    place-items: center;
    min-height: 400px;
    padding: var(--space-6) var(--space-4);
    background: linear-gradient(135deg, var(--color-gradient-start) 0%, var(--color-gradient-end) 100%);
    color: var(--color-footer-text); /* Using footer text color as it's white */
    border-radius: 12px;
    text-align: center;
    box-shadow: var(--shadow-medium);
}

.hero h1, .hero .hero-headline { /* Targeting specific hero headline element */
    color: white;
    margin-top: 0;
    margin-bottom: var(--space-3);
}

.hero p, .hero .hero-subtitle { /* Targeting specific hero subtitle element */
    font-size: var(--font-size-md);
    opacity: 0.9;
    max-width: 600px;
}

/* Button Components */
.cta-buttons {
    display: flex;
    gap: var(--space-2);
    justify-content: center;
    margin-top: var(--space-3);
    flex-wrap: wrap;
}

.btn {
    display: inline-block;
    padding: var(--space-2) var(--space-4);
    border-radius: 6px;
    font-weight: 500;
    text-decoration: none;
    transition: var(--transition-smooth);
    cursor: pointer;
    border: none;
    box-shadow: var(--shadow-subtle);
    font-size: var(--font-size-base);
    line-height: 1; /* Added for consistent button height */
}

.btn:hover {
    transform: translateY(-1px);
    box-shadow: var(--shadow-medium);
}

.btn:focus-visible { /* Added for better keyboard focus indication */
    outline: 3px solid var(--color-secondary-darker);
    outline-offset: 2px;
}


.btn-primary {
    background-color: var(--color-secondary);
    color: white;
}

.btn-primary:hover, .btn-primary:focus {
    background-color: var(--color-secondary-darker); /* Updated: was hardcoded #1557b0 */
    color: white;
    text-decoration: none;
}
/* Ensure focus style for primary matches focus-visible or is distinct */
.btn-primary:focus-visible {
    outline-color: var(--color-secondary-darker); /* Or a sufficiently contrasting color if needed */
}


.btn-secondary {
    background-color: white;
    color: var(--color-primary); 
    border: 1px solid var(--color-neutral-300); /* Added subtle border */
}

.btn-secondary:hover, .btn-secondary:focus {
    background-color: var(--color-neutral-100);
    color: var(--color-primary); 
    text-decoration: none;
    border-color: var(--color-neutral-700); /* Darken border on hover/focus */
}
/* Ensure focus style for secondary matches focus-visible or is distinct */
.btn-secondary:focus-visible {
     outline-color: var(--color-primary); /* Dark grey outline is good for light button */
}


/* Features Section */
.features {
    margin-top: var(--space-6);
}

.feature-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: var(--space-3);
    margin-top: var(--space-4);
}

.feature-card {
    background-color: white;
    padding: var(--space-4);
    border-radius: 8px;
    box-shadow: var(--shadow-subtle);
    transition: var(--transition-smooth);
}

.feature-card:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-medium);
}

.feature-card h3 {
    margin-top: 0;
    color: var(--color-primary); 
}

.feature-card p {
    color: var(--color-neutral-700);
}

.feature-card a {
    display: inline-block;
    margin-top: var(--space-2);
    font-weight: 600;
    color: var(--color-secondary);
}

/* Disclaimer Section */
.disclaimer, .tool-disclaimer { /* .tool-disclaimer is primarily styled by tool-styles.css, this is a fallback/general */
    background-color: var(--color-neutral-100);
    color: var(--color-neutral-700);
    padding: var(--space-3);
    border-radius: 8px;
    margin-top: var(--space-4);
    margin-bottom: var(--space-3);
    border: 1px solid var(--color-neutral-200);
}

.disclaimer h2, .tool-disclaimer h2 {
    color: var(--color-primary); 
    margin-top: 0;
    font-size: var(--font-size-md);
}

/* Tool Specific Styles (General Fallbacks or Overrides if needed) */
.help-text {
    font-size: var(--font-size-sm);
    font-style: italic;
    color: var(--color-neutral-700);
    margin-top: var(--space-1);
    margin-bottom: var(--space-2);
}

/* Tool Result Styles (General Fallbacks) */
/* Specific tool result appearances are primarily in tool-styles.css */
/* Keeping only basic structural styles in style.css */
.tool-result {
    padding: var(--space-4);
    border-radius: 8px;
    margin-top: var(--space-3);
    box-shadow: var(--shadow-subtle);
}

/* Result Sections */
.result-documents,
.result-details,
.result-links {
    margin-top: var(--space-3);
    padding-top: var(--space-2);
    border-top: 1px solid var(--color-neutral-200);
}

.result-documents:first-child,
.result-details:first-child,
.result-links:first-child {
    margin-top: var(--space-2);
    padding-top: 0;
    border-top: none;
}

.result-documents h3,
.result-details h3,
.result-links h3 {
    font-size: var(--font-size-md);
    margin-bottom: var(--space-2);
}

.result-documents ul,
.result-details ul,
.result-links ul {
    list-style-type: disc;
    padding-left: var(--space-3);
    margin-bottom: 0;
}

.result-documents li,
.result-details li,
.result-links li {
    margin-bottom: var(--space-1);
}

/* Error Message */
.error-message {
    color: var(--color-accent);
    background-color: #ffebee; /* Light red background */
    border: 1px solid var(--color-accent);
    padding: var(--space-2);
    border-radius: 6px;
    margin-top: var(--space-2);
    font-weight: 600;
}

/* Utility Classes */
.hidden {
    display: none !important;
}

/* --- Header Styles --- */
.site-header {
  position: sticky;
  top: 0;
  z-index: 100; /* Ensure this is less than skip-link if skip link needs to be on top */
  background: rgba(255, 255, 255, 0.95); /* Use a variable if theme changes this */
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border-bottom: 1px solid rgba(0, 0, 0, 0.1); /* Use neutral color variable */
}

.header-container {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 1rem 2rem; /* Use spacing variables */
  max-width: 1200px; /* Or a site width variable */
  margin: 0 auto;
}

.header-logo {
  display: flex;
  align-items: center;
  gap: 0.75rem; /* Use spacing variable */
}

.logo-icon {
  /* color: #1a5490; */ /* FROM */
  color: var(--color-secondary); /* TO: Use theme's secondary color */
  flex-shrink: 0;
}

.site-title {
  font-size: 1.25rem; /* Use font size variable */
  font-weight: 600;
  color: var(--color-primary, #1a1a1a); /* Use theme's primary text color, fallback if needed */
}

.main-nav ul {
  display: flex;
  list-style: none;
  margin: 0;
  padding: 0;
  gap: 2rem; /* Use spacing variable */
}

.main-nav a {
  text-decoration: none;
  color: var(--color-primary, #333); /* Use theme's primary text color */
  font-weight: 500;
  padding: 0.5rem 0; /* Use spacing variable */
  transition: color 0.2s; /* Use transition variable */
}

.main-nav a:hover, .main-nav a:focus { /* Added :focus */
  /* color: #1a5490; */ /* FROM */
  color: var(--color-secondary-darker); /* TO: Consistent hover color */
  text-decoration: none; /* Standard to remove underline from nav items unless desired */
}
.main-nav a.active { /* Style for active link, if not handled by script.js */
    color: var(--color-secondary);
    font-weight: bold; /* Or a bottom border */
}


.mega-menu {
  position: relative;
}

.mega-menu > a { /* Ensure dropdown trigger styles are distinct or match other nav links */
    /* Inherits .main-nav a styles */
}
.mega-menu > a[aria-expanded="true"] { /* Style for when dropdown is open */
    color: var(--color-secondary-darker);
}


.mega-menu-content {
  position: absolute;
  top: 100%;
  left: 50%;
  transform: translateX(-50%);
  background: white; /* Use variable if available for panel backgrounds */
  border: 1px solid rgba(0, 0, 0, 0.1); /* Use neutral color variable */
  border-radius: 8px; /* Use border radius variable */
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); /* Use shadow variable */
  padding: 1.5rem; /* Use spacing variable */
  min-width: 280px;
  margin-top: 0.5rem; /* Use spacing variable for gap */
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.2s, visibility 0.2s; /* Use transition variable */
  z-index: 10; /* Ensure dropdown is above other content */
}

.mega-menu:hover .mega-menu-content,
.mega-menu > a:focus + .mega-menu-content, /* Show on focus of trigger */
.mega-menu-content:hover { /* Keep open when hovering content */
  opacity: 1;
  visibility: visible;
}


.mega-menu-group h3 {
  font-size: 0.875rem; /* Use font size variable */
  color: var(--color-neutral-700, #666); /* Use neutral text color */
  text-transform: uppercase;
  letter-spacing: 0.05em;
  margin: 0 0 0.75rem 0; /* Use spacing variables */
}

.mega-menu-group ul {
  list-style: none;
  padding: 0;
  margin: 0;
  /* display: flex; */ /* No, these are vertical lists */
  /* flex-direction: column; */ /* Default for ul */
}


.mega-menu-group li {
  margin-bottom: 0.5rem; /* Use spacing variable */
}
.mega-menu-group li:last-child {
    margin-bottom: 0;
}

.mega-menu-group a {
  color: var(--color-primary, #333); /* Use theme's primary text color */
  text-decoration: none;
  font-weight: 400;
  display: block;
  padding: 0.25rem 0; /* Use spacing variable */
  border-radius: 4px; /* Add radius for better hover/focus state */
  transition: background-color 0.2s, color 0.2s; /* Use transition variable */

}

.mega-menu-group a:hover, .mega-menu-group a:focus {
  /* color: #1a5490; */ /* FROM */
  color: var(--color-secondary-darker); /* TO: Consistent hover color */
  background-color: var(--color-neutral-100, #f0f0f0); /* Add subtle background on hover/focus */
  text-decoration: none;
}


.search-button {
  background: none;
  border: none;
  padding: 0.5rem; /* Use spacing variable */
  cursor: pointer;
  color: var(--color-neutral-700, #666); /* Use neutral text color */
  transition: color 0.2s; /* Use transition variable */
  border-radius: 4px; /* For focus indicator consistency */
}

.search-button:hover, .search-button:focus {
  /* color: #1a5490; */ /* FROM */
  color: var(--color-secondary-darker); /* TO: Consistent hover color */
}
.search-button:focus-visible { /* Explicit focus style */
    outline: 2px solid var(--color-secondary-darker);
    outline-offset: 2px;
}

/* Mobile Menu Toggle Button */
.menu-toggle {
  display: none; /* Hidden by default on desktop */
  background: none;
  border: none;
  padding: 0.5rem;
  cursor: pointer;
  color: var(--color-neutral-700);
  transition: color 0.2s;
  border-radius: 4px;
  flex-shrink: 0; /* Prevent shrinking */
}

.menu-toggle:hover, .menu-toggle:focus {
  color: var(--color-secondary-darker);
}

.menu-toggle:focus-visible {
  outline: 2px solid var(--color-secondary-darker);
  outline-offset: 2px;
}

/* Mobile responsive */
@media (max-width: 768px) {
  .header-container {
    padding: 1rem; /* Use spacing variable */
    /* Adjust layout for mobile: logo, toggle, search */
    display: grid;
    grid-template-columns: auto 1fr auto; /* Logo | Spacer | Toggle/Search */
    align-items: center;
    gap: 1rem;
  }

  .header-logo {
    grid-column: 1;
  }

  .menu-toggle {
    display: block; /* Show on mobile */
    grid-column: 2; /* Place it in the middle column */
    justify-self: end; /* Align to the end of its column */
  }

  .search-button {
    grid-column: 3; /* Place search button in the last column */
    justify-self: end; /* Align to the end of its column */
  }
  
  .site-title {
    font-size: 1.1rem; /* Use font size variable */
  }
  
  .main-nav {
    /* Hide by default on mobile */
    display: none;
    position: absolute;
    top: 100%; /* Position below header */
    left: 0;
    width: 100%;
    background: rgba(255, 255, 255, 0.98); /* Slightly more opaque than header */
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    box-shadow: var(--shadow-medium);
    border-bottom-left-radius: 8px;
    border-bottom-right-radius: 8px;
    padding: var(--space-2) 0;
    z-index: 99; /* Below skip-link, above other content */
  }

  .main-nav.active {
    display: block; /* Show when active class is present */
  }

  .main-nav ul {
    flex-direction: column; /* Stack navigation items vertically */
    gap: 0; /* Remove gap for stacked items */
  }

  .main-nav li {
    width: 100%; /* Full width for each nav item */
  }

  .main-nav a {
    padding: var(--space-2) var(--space-3); /* More padding for touch targets */
    width: 100%;
    display: block; /* Make links fill the padding area */
  }

  .main-nav a:hover, .main-nav a:focus {
    background-color: var(--color-neutral-100); /* Highlight on hover/focus */
  }

  .mega-menu-content { /* Adjust mega menu for mobile if it remains visible */
    position: static; /* Remove absolute positioning */
    transform: translateX(0); /* Remove transform */
    width: auto; /* Auto width */
    min-width: auto;
    margin: var(--space-1) var(--space-3); /* Indent slightly */
    padding: var(--space-2);
    box-shadow: none; /* Remove shadow for nested menu */
    border: none; /* Remove border for nested menu */
    background: var(--color-neutral-100); /* Slightly different background */
  }

  .mega-menu-group h3 {
    padding-left: var(--space-1); /* Align with nested links */
  }

  .mega-menu-group a {
    padding-left: var(--space-1); /* Indent nested links */
  }
}

/* Responsive Design */
@media (max-width: 768px) {
    :root {
        --font-size-base: 0.95rem;
    }
    
    main {
        padding: var(--space-2);
        margin: var(--space-2) auto;
    }
    
    article, section {
        padding: var(--space-3);
    }
    
    .hero {
        padding: var(--space-4) var(--space-3);
        min-height: 300px;
    }
    
    .feature-grid {
        gap: var(--space-2);
    }
    
    h1 {
        font-size: var(--font-size-xl);
    }
    
    h2 {
        font-size: var(--font-size-lg);
    }

    .cta-buttons .btn { /* Ensure buttons stack nicely on mobile */
        width: 100%;
        margin-bottom: var(--space-1);
    }
    .cta-buttons .btn:last-child {
        margin-bottom: 0;
    }
}

/* --- Utility Styles --- */
.sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
}

/* --- Footer Styles --- */
footer {
    background-color: var(--color-footer-bg);
    color: var(--color-footer-text);
    padding: 2rem 0 1rem 0;
    margin-top: 2rem;
}

.footer-content {
    max-width: 960px;
    margin: 0 auto;
    padding: 0 20px;
    text-align: center; /* Centering links as per footer.html structure */
}

/* Styles for .footer-content a tags as per footer.html structure */
.footer-content a {
    color: var(--color-footer-link);
    text-decoration: none;
    margin: 0 0.5em; /* Spacing for links */
}

.footer-content a:hover {
    color: var(--color-footer-text);
    text-decoration: underline;
}

/* Separator styling for footer, if needed from JS (footer.html has spans) */
.footer-content .separator {
    margin: 0 0.25em;
    color: var(--color-footer-separator);
}

.footer-bottom {
    max-width: 960px;
    margin: 2rem auto 0 auto;
    padding: 1rem 20px 0 20px;
    border-top: 1px solid var(--color-footer-border);
    text-align: center;
    font-size: 0.9rem;
    color: var(--color-footer-link);
}

/* Mobile Navigation and Footer Adjustments */
@media (max-width: 768px) {
    /* Mobile nav rules for .menu-toggle or specific mobile nav structures would go here if needed */
    /* The header.html has its own responsive CSS. */
                                
    .footer-content {
        /* grid-template-columns: 1fr; */ /* Removed as grid is not used */
        /* gap: 1.5rem; */ /* Gap is not relevant for text-align:center flow */
        padding: 0 15px; 
    }

    .footer-content a {
        display: inline-block; /* Keeps links on same line if space allows */
        margin: 0.25em 0.5em; /* Adjust margin for better mobile spacing if they wrap */
    }

    /* Footer links might stack naturally or based on .footer-content text-align.
       If more specific stacking and centering needed for links on mobile:
    .footer-content a {
        display: block;
        margin: 0.5rem 0;
    }
    .footer-content .separator {
        display: none; // Hide separators if links are stacked
    }
    */
}

/* Print Styles */
@media print {
    body {
        background-color: white;
        color: black;
        font-size: 12pt; /* Adjust for print */
    }

    :root { /* Override vars for print if needed */
        --color-secondary: #000000; /* Print links black */
    }
    
    .skip-link,
    .cta-buttons,
    header.site-header, /* Hide header for print */
    footer.site-footer { /* Hide footer for print */
        display: none !important;
    }

    main {
        margin: 1in; /* Standard print margins */
        padding: 0;
        max-width: none;
    }
    
    article, section {
        box-shadow: none;
        border: 1px solid #dddddd;
        padding: 1rem;
        margin-bottom: 1rem;
        page-break-inside: avoid;
    }

    a {
        color: #000000 !important; /* Ensure links are black */
        text-decoration: underline !important; /* Underline links for clarity in print */
    }

    a[href^="http"]::after, a[href^="https"]::after {
        content: " (" attr(href) ")"; /* Show full URLs for external links */
        font-size: 0.8em;
        color: #555555;
    }
    a[href^="/"]::after { /* Optional: show relative paths */
      /* content: " (https://veterans-info.github.io" attr(href) ")"; */
    }


    .tool-result {
        border: 1px solid #000000;
        background-color: #ffffff !important;
        color: #000000 !important;
    }
    .tool-result h2, .tool-result h3 {
        color: #000000 !important;
    }

}
